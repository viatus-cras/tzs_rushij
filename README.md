# tzs_rushij
Ігровий рушій на базі моєї текстової гри "Та заради справедливошти!"

Що це
Адаптована під рушій текстова гра. З-за допомогою цього шаблону можна створювати власні текстові квести на Java (нативно, без сторонніх бібліотек).

Що є в рушії
1. Описи локацій з варіянтами дій (усталено до 7 дій (до 7 кнопок)). Описи локацій формуються та зберігаються у текстовому файлі (kontent.txt).
2. Перехід локаціями реалізовано через карту локацій. Зберігається у зовнішньому файлі mapalokiw.txt.
3. Картинка зверху опису локації для наочної ілюстрації оточення. Картинка натискається для розгорнення в повний масштаб.
4. Фонова музика. Усталено музика запускається в тихому режимі на повторі, зупиняється при втраті фокусу вікна гри та продовжується при відновленні фокусу.
5. Інвентар. Гравець може збирати речі в інвентарі, читати їх опис, активувати, викидувати. Приміром, реалізований приклад пиття лікувального еліксиру, який відновлює ОЗ, або допоміжних засобів у бою, які нейтралізують пошкоду моба, або посилюють удар ГГ.
6. Журнальні записи. Певні ігрові події можуть супроводжуватися довільними записами у журналі (окрема вкладка): нові записи розміщуються зверху.
7. Квести. Усі завдання заносяться на окремий екран (вкладку), виконані позначаються альтернативним описом зі спецпозначкою.
8. Прості та інтерактивні павзи. Затримку між виконанням певних дій можна оформити як просту або інтерактивну павзу із проміжними акціями.
9. Бої. Стандартний поєдинок ведеться з 3 варіянтами ударів та вибором зброї з 10 наявних у інвентарі.
10. Система досвіду. За будь-які дії гравець може отримати ОД (очки досвіду), наприклад за перемогу в бою або виконання квеста. 
11. Система рівнів. ОД складаються на шкалі рівня та формують нові рівні з бонусами до пошкоди, прибутків та ОЗ (очок здоровля).
12. Економіка. В прикладі наявні три типи монет: мідяки, лизарди та фьйорди, їх можна додавати або віднімати в залежности од умов. На прибутки впливає рівень ГГ.
13. Азартна картярська гра "Сон джокера". Проста гра в карти на гроші, речі, або навіть штани (коли не лишилося ані гроші, ані речей).
14. Відображення поточної локації. Напівавтоматична система.
15. Два спеціяльних екрани: для опису гри, підтримує HTML (посилання), та ввідний із припрошенням увести ім'я ГГ.
16. Адаптивна верстка. Вікно гри вільно маштабується, контент адаптується до розмірів вікна, зокрема малюнок.

Як встановити рушій та почати робити свою гру
1. Скачай файли проєкту (*.java, *.class) разом із ресурсами (*.jpg, *.wav).
2. Відкрий головний файл TaZaradySpravedlyvoshty.java в своєму середовиську розробника для Java, приміром у Geany. В коді реалізується інтерактив, усі ключові методи прокоментовано.
3. Відкрий текстовий файл kontent.txt, в цьому файлі зберігаються описи локацій, варіянти дій (кількість активних кнопок), зображення, а також музика.
4. Відкрий текстовий файл mapalokiw.txt, це карта локацій, по якій орієнтуються кнопки: усі переходи між локаціями повинні фіксуватися на карті.
5. Змінюй код гри та вміст текстових файлів для власних потреб.
6. Для компіляції та виконання коду у твоїй системі має бути встановлено пакет Java для розробника (JDK). Качається з офіційного сайту java.com

Як формувати опис локацій
Вкрай важливо дотримуватися правил розмітки!
1. Кожна нова локація має починатися з ключа lok1, lok2, lok3, ... — нумер локації в ключі використовується для пошуку локації і занесення єї до карти локацій.
2. Опісля ключа постав одинарний пробіл, тоді описуй локацію. Коли опис буде готовий, постав подвійний перенос рядку (Enter, Enter), та перелічи усі варіянти дій (до 7 в прикладі).
3. Варіянти дій мають оформлюватися списком як цей: 1. Варіянт дії, 2. Варіянт другої дії, і т. д. -- тут важливий тільки початок: цифта, крапка та пробіл, решта тексту довільна. Зверни увагу! Останній варіянт дій має завершуватися табом, тобто опісля знаку в описі варіянту дій постав табуляцію: натисни Tab.
4. Якщо локація містить картинку, її назву необхідно розмістити перед текстом опису локації: pozamistia.jpg#Опис локації.
5. Якщо локація містить музику, записується аудіофайл: pozamistia.wav@Опис локації.
6. Якщо є картинка і музика: pozamistia.jpg#pozamistia.wav@Опис локації. Картинка завжди перша!
7. Нова локація формується після одинарного перенесення рядку (Enter) за табуляцією.

Як формувати карту локацій
У файлі mapalokiw.txt зберігаються цифрові значення локацій для кожної кнопки, в прикладі таких 7.
1. Перший стовпчик карти відповідає нумеру локації і не стосується кнопок!
2. Перший рядок карти описовий і не задіюється в реальних умовах (не переписується у масив lokaciji[][])! Цей рядок просто ілюструє положення 0 стовпчика та решти кнопкових стовпчиків.
3. Запис в карті локацій робиться через таб.

Як підготувати зображення до інтеграції у гру
Особливих умов нема, підтримуються всі стандартні формати і розміри.

Як підготувати музику до інтеграцію у гру
Нативно в Java є чималі труднощі зі звуками, підтримується по суті тільки wav певного типу. Тому щоб ява зрозуміла ваше аудіо, доведеться конвертувати його, приміром з-за допомогою ffmpeg (вільний інструмент) із такими параметрами:
ffmpeg -i input.mp3 -ac 1 -ar 16000 -sample_fmt s16 -c:a pcm_s16le output.wav
Якість суттєво впливає на розмір файлу, для кращого звуку повищуй дискретизацію з 16 до 32К+, зміни моно -ас 1, на -ac 2, стерео.

Як зібрати проєкт в готовий файл до виконання
Готовий файл гри буде у форматі .jar, цей формат асоційовано з java.exe у системі. Тобто без встановленої Java у системі гра працювати не буде.
1. Перед збиранням гри очисть робочу теку від зайвих, тимчасових, непотрібних файлів, мають лишитися тільки файли з кодом (.class, .java) та файли ресурсів (.txt, .jpg, .wav).
2. Запусти в цій теці командний рядок (cmd).
3. Виконай команду: jar cfe NazwaGry.jar GolovnyjKliasGry *.class *.jpg *.wav 
  1. NazwaGry.jar може бути довільною, так буде йменуватися результатний файл гри.
  2. GolovnyjKliasGry обов'язково має співпадати з головним клясом гри. Ця назва в твоєму проєкті найперша опісля імпортів, в прикладі це TaZaradySpravedlyvoshty.
  3. *.class *.jpg *.wav перелік клясів та ресурсів, які будуть злучені з головним клясом.
4. Готовий файл можна запустити напряму (подвійним тиском), якщо .jar асоційовано з Java у системі, або через консоль java -jar NazwaGry.jar
5. Для додаткової сумісности чи спрощення запуску, рекомендується створити стартовий .bat із таким наповненням: java -jar "%CD%\NazwaGry.jar", якщо цей “батнік” запустити з теки гри — він автоматично запустить гру через консоль, тобто це щось на кшталт ярлика.

Ваші знання Java мають бути на рівні 3\10 щоб зробити гру на цьому рушії.

Християнські принципи та умови
При створенні ігор раджу не виходити за межі принципів етичного геймінгу ( https://parusliv.blogspot.com/2024/07/blog-post_17.html ), щоби не порушувались умови розповсюдження рушія: не для злих цілей.
